<div class="container" style="max-width: 700px;">
  <!-- Event Card -->
  <div class="card shadow-sm mb-4">
    <div class="card-body">
      <h2 class="card-title mb-3"><%= @event.name %></h2>
      <p><strong>Date:</strong> <%= @event.date.strftime("%B %d, %Y") %></p>
      <p><strong>Location:</strong> <%= @event.location %></p>
      <p><strong>Status:</strong> <%= @event.status.capitalize %></p>
      <p><strong>Description:</strong> <%= @event.description %></p>
      <div class="mt-3 d-flex gap-2">
        <%= link_to "Edit Event", edit_admin_event_path(@event), class: "btn btn-primary btn-sm" %>
        <%= button_to "Delete Event", admin_event_path(@event), method: :delete, data: { confirm: "Are you sure?" }, class: "btn btn-danger btn-sm" %>
        <%= link_to "Back to Events", admin_events_path, class: "btn btn-outline-secondary btn-sm" %>
      </div>
      
    </div>
    
  </div>

  <!-- Registration Form Partial -->
  <%= render 'admin/registrations/form', registration: @registration %>

  <!-- Registrations List -->
  <div class="card shadow-sm">
    <div class="card-body">
      <h3 class="card-title mb-3">Registrations</h3>
      <% if @registrations.any? %>
        <ul class="list-group list-group-flush">
          <% @registrations.each do |r| %>
            <% next if r.new_record? %>
            <li class="list-group-item d-flex justify-content-between align-items-center">
              <div>
                <strong><%= r.attendee_name %></strong> - <%= r.attendee_email %>
              </div>
              <div class="btn-group btn-group-sm">
                <%= link_to edit_admin_event_registration_path(@event, r), class: "btn btn-outline-primary" do %>
                  <i class="fas fa-edit"></i>
                <% end %>
                <%= button_to admin_event_registration_path(@event, r), method: :delete, data: { confirm: "Are you sure?" }, class: "btn btn-outline-danger" do %>
                  <i class="fas fa-trash-alt"></i>
                <% end %>
              </div>
            </li>
          <% end %>
        </ul>
      <% else %>
        <p class="text-muted">No registrations yet.</p>
      <% end %>
    </div>
  </div>
</div>
